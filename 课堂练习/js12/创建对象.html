<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>点击</button>
    <script>
        /*单例模式*/
        var obj = new Object();
        obj.name = 'zhangsan';
        obj.age = 18;
        obj.showName = function(){
           alert(obj.name);
        }
        var obj1 = new Object();
        obj1.name = 'zhangsan';
        obj1.age = 18;
        obj1.showName = function(){
          console.log(obj1.name);
        }
        /*缺点 每次只能得到一个对象*/

        /*工厂模式*/
        function createObj(name,age){
            //准备好原材料
            var obj = new Object();
            //加工
            obj.name=name;
            obj.age=age;
            obj.showName = function(){
                console.log(obj.name);
            }
            //出厂，返回一个对象
            return obj;
        }
        var obj3 = createObj('giao',17);
        console.log(obj3);
        /*
        优点：可以批量生产，不需要每次自己创建对象，内部方法只声明一次
        缺点：每次还要准备原材料，出厂
        */

        /*构造函数模式
        写法 首字母大写
            函数内部用this 关键字给对象添加属性和方法，this指向空对象
            必须用new调用函数
        */
        function show(){
            console.log(this);//this指向window
        }
        show();//相当于window.show
        var a=123;
        console.log(window.a);
        document.onclick = function(){
            console.log(this);//指向document
        }
        document.getElementsByTagName('button')[0].onclick = function(){
            console.log(this);//指向button
        }
        function show(){
            console.log(this);
        }
        var sh= new show();
        console.log(new show());
        console.log(sh);//返回空对象 new干了啥  new创建了一个空对象
        console.log(show());//undefined
        function CreateObj(name,age){
            //添加属性
            this.name = name;
            this.age = age;
            //添加方法
            this.showName = function(){
                alert(this.name)
            }

        }
        var obj4 = CreateObj();//undefined 简单的函数调用   
        var obj5 = new CreateObj('zhangsan',16);//实例化一个对象，obj5就式对象的实例
        console.log(obj5);
        /*new 干了什么
            1.在函数内部创建了空对象
            2.修改了函数的作用域，将this从window指向了new创建的对象
            3.为该对象添加属性和方法
            4.返回该对象

            优点：批量创建，不需要自己创建对象和自己return对象
            缺点：每次创建(对象)的方法，都要创建一个函数，函数要占内存
         */
         
    </script>
</body>
</html>