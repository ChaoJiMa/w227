<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
  /**
 * 发送ajax请求
 * Myajax(
 *     method: "",                  //请求方式
 *     url:    "",                  //请求的服务器地址
 *     data:   "",                  //请求时携带的参数
 *     async:   ""                  //flase和true 同步和异步
 *     }
 * );
 */
 function Ajax(obj){
	//ajax
	var xhr;
	if(XMLHttpRequest){
		xhr = new XMLHttpRequest;
	}else{
		xhr = new ActiveXObject('microsoft.XMLHTTP')
	}
	//2
	if(obj.method.toLowerCase() == 'get'){
		obj.url = obj.url + '?' + obj.data;
	}
	xhr.open(obj.method,obj.url,obj.async)
	//3
	xhr.onreadystatechange = function(){
		if(xhr.readyState == 4 && xhr.status == 200 ){
			//console.log(xhr.responseText);
			callbake(xhr.responseText)
		}
	}
	//4
	if(obj.method.toLowerCase() == 'post'){
		xhr.setRequesHeader('Content-type','application/x-www-form-urlencoded');
		xhr.send(obj.data)
	}else{
		xhr.send(null)
	}
}

</script>
</body>
</html>

